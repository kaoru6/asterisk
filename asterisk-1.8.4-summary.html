<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>Release Summary - asterisk-1.8.4</title></head>
<body>
<h1 align="center"><a name="top">Release Summary</a></h1>
<h3 align="center">asterisk-1.8.4</h3>
<h3 align="center">Date: 2011-05-09</h3>
<h3 align="center">&lt;asteriskteam@digium.com&gt;</h3>
<hr/>
<h2 align="center">Table of Contents</h2>
<ol>
   <li><a href="#summary">Summary</a></li>
   <li><a href="#contributors">Contributors</a></li>
   <li><a href="#issues">Closed Issues</a></li>
   <li><a href="#commits">Other Changes</a></li>
   <li><a href="#diffstat">Diffstat</a></li>
</ol>
<hr/>
<a name="summary"><h2 align="center">Summary</h2></a>
<center><a href="#top">[Back to Top]</a></center><br/><p>This release includes only bug fixes.  The changes included were made only to address problems that have been identified in this release series.  Users should be able to safely upgrade to this version if this release series is already in use.  Users considering upgrading from a previous release series are strongly encouraged to review the UPGRADE.txt document as well as the CHANGES document for information about upgrading to this release series.</p>
<p>The data in this summary reflects changes that have been made since the previous release, asterisk-1.8.3.</p>
<hr/>
<a name="contributors"><h2 align="center">Contributors</h2></a>
<center><a href="#top">[Back to Top]</a></center><br/><p>This table lists the people who have submitted code, those that have tested patches, as well as those that reported issues on the issue tracker that were resolved in this release.  For coders, the number is how many of their patches (of any size) were committed into this release.  For testers, the number is the number of times their name was listed as assisting with testing a patch.  Finally, for reporters, the number is the number of issues that they reported that were closed by commits that went into this release.</p>
<table width="100%" border="0">
<tr>
<td width="33%"><h3>Coders</h3></td>
<td width="33%"><h3>Testers</h3></td>
<td width="33%"><h3>Reporters</h3></td>
</tr>
<tr valign="top">
<td>
18 rmudgett<br/>
13 lathama<br/>
13 qwell<br/>
12 tilghman<br/>
10 lmadsen<br/>
8 jpeeler<br/>
6 russell<br/>
5 seanbright<br/>
5 twilson<br/>
4 may<br/>
4 mmichelson<br/>
4 mnicholson<br/>
4 pabelanger<br/>
2 cmaj<br/>
2 jcovert<br/>
2 zaltar<br/>
1 alexo<br/>
1 bbryant<br/>
1 bluecrow76<br/>
1 cjacobsen<br/>
1 clegall<br/>
1 crjw<br/>
1 fnordian<br/>
1 gbour<br/>
1 kkm<br/>
1 kobaz<br/>
1 kshumard<br/>
1 one47<br/>
1 rgagnon<br/>
1 thedavidfactor<br/>
1 wdoekes<br/>
1 whizemen<br/>
</td>
<td>
9 rmudgett<br/>
2 mmichelson<br/>
2 seanbright<br/>
2 tilghman<br/>
2 wimpy<br/>
1 alexo<br/>
1 andrel<br/>
1 asgaroth<br/>
1 bklang<br/>
1 cmaj<br/>
1 efutch<br/>
1 enegaard<br/>
1 ernied<br/>
1 francesco_r<br/>
1 kkm<br/>
1 lathama<br/>
1 lathama bas<br/>
1 loloski<br/>
1 oej<br/>
1 one47<br/>
1 qwell<br/>
1 rfrantik<br/>
1 russell<br/>
1 wedhorn<br/>
</td>
<td>
2 cmaj<br/>
2 GeorgeKonopacki<br/>
2 jcovert<br/>
2 zaltar<br/>
1 alecdavis<br/>
1 alexo<br/>
1 bas<br/>
1 bklang<br/>
1 bluecrow76<br/>
1 bluefox<br/>
1 clegall_proformatique<br/>
1 edhorton<br/>
1 ernied<br/>
1 francesco_r<br/>
1 gbour<br/>
1 gelo<br/>
1 gincantalupo<br/>
1 grecco<br/>
1 imcdona<br/>
1 irroot<br/>
1 iskatel<br/>
1 jacco<br/>
1 JJCinAZ<br/>
1 job<br/>
1 junky<br/>
1 kenji<br/>
1 kerframil<br/>
1 kkm<br/>
1 kobaz<br/>
1 kshumard<br/>
1 marioabajo<br/>
1 mcallist<br/>
1 notahat<br/>
1 oej<br/>
1 one47<br/>
1 pabelanger<br/>
1 pj<br/>
1 rgagnon<br/>
1 shawkris<br/>
1 shihchuan<br/>
1 thedavidfactor<br/>
1 var<br/>
1 vrban<br/>
1 wdoekes<br/>
1 whizemen<br/>
1 wimpy<br/>
</td>
</tr>
</table>
<hr/>
<a name="issues"><h2 align="center">Closed Issues</h2></a>
<center><a href="#top">[Back to Top]</a></center><br/><p>This is a list of all issues from the issue tracker that were closed by changes that went into this release.</p>
<h3>Category: Applications/app_dial</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=18264">#18264</a>: [patch] Dail L(x) shows "Setting call duration limit to x seconds" in CLI<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302918">302918</a><br/>
Reporter: jacco<br/>
Coders: lmadsen<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18379">#18379</a>: attended transfer weird behaviour<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302713">302713</a><br/>
Reporter: gincantalupo<br/>
Testers: rmudgett<br/>
Coders: rmudgett<br/>
<br/>
<h3>Category: Applications/app_meetme</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=17317">#17317</a>: [patch] MeetMe 'L' and 'S' ignore 'C' option<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=304774">304774</a><br/>
Reporter: var<br/>
Coders: seanbright<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18225">#18225</a>: [patch] Segfault with new meetme function (count callers in menu8)<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=304730">304730</a><br/>
Reporter: kenji<br/>
Testers: seanbright<br/>
Coders: seanbright<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18343">#18343</a>: [patch] [regression] meetme conf_run leaks refs<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=304777">304777</a><br/>
Reporter: kobaz<br/>
Coders: kobaz<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18444">#18444</a>: [patch] leak in meetme<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=304727">304727</a><br/>
Reporter: junky<br/>
Testers: seanbright<br/>
Coders: seanbright<br/>
<br/>
<h3>Category: Applications/app_queue</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=18499">#18499</a>: [patch] Fallthrough in get_member_status can cause unwarranted exit from queue<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=306356">306356</a><br/>
Reporter: zaltar<br/>
Coders: zaltar<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18747">#18747</a>: [regression] changeset 298596 harm the ring/moh  logic in queues<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=308010">308010</a><br/>
Reporter: vrban<br/>
Coders: qwell<br/>
<br/>
<h3>Category: Applications/app_voicemail</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=18486">#18486</a>: [patch] Voicemail files out of sequence<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=303678">303678</a><br/>
Reporter: bluefox<br/>
Coders: jpeeler<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18498">#18498</a>: [patch] [regression] Resequencing of mailbox not working as expected.<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=303678">303678</a><br/>
Reporter: JJCinAZ<br/>
Coders: jpeeler<br/>
<br/>
<h3>Category: Applications/app_voicemail/IMAP</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=17870">#17870</a>: [patch] greetingsfolder variable should be greetingfolder<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302834">302834</a><br/>
Reporter: edhorton<br/>
Coders: lmadsen<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18718">#18718</a>: [regression] Implicit declaration of copy yields broken app_voicemail when building with IMAP support<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=306962">306962</a><br/>
Reporter: kerframil<br/>
Coders: jpeeler<br/>
<br/>
<h3>Category: Channels/General</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=18585">#18585</a>: [patch] AMI redirect from meetme - calls fail<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=303549">303549</a><br/>
Reporter: oej<br/>
Testers: oej, wedhorn, russell<br/>
Coders: russell<br/>
<br/>
<h3>Category: Channels/chan_dahdi</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=17085">#17085</a>: [patch] [regression] Overlap dialing to PSTN failing after #16789<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=303771">303771</a><br/>
Reporter: shawkris<br/>
Testers: wimpy, rmudgett<br/>
Coders: rmudgett<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=17273">#17273</a>: atxfer *2 channel dahdi FXS no hangup<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302174">302174</a><br/>
Reporter: grecco<br/>
Testers: rmudgett<br/>
Coders: rmudgett<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18509">#18509</a>: [patch] Sending out unnecessary PROCEEDING messages breaks overlap dialing<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=303771">303771</a><br/>
Reporter: wimpy<br/>
Testers: wimpy, rmudgett<br/>
Coders: rmudgett<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18874">#18874</a>: [patch] sig_pri_new_ast_channel should return NULL when new_ast_channel fails to create a channel<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=308622">308622</a><br/>
Reporter: cmaj<br/>
Coders: cmaj<br/>
<br/>
<h3>Category: Channels/chan_iax2</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=18162">#18162</a>: [patch] deny=all in iax.conf results in segmentation fault<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=304638">304638</a><br/>
Reporter: imcdona<br/>
Testers: enegaard<br/>
Coders: pabelanger<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18194">#18194</a>: [patch] Loading chan_iax2.so allocates >100M RSS<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=304950">304950</a><br/>
Reporter: job<br/>
Testers: tilghman<br/>
Coders: tilghman<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18545">#18545</a>: [patch] IAX Incorrectly reports IAX/Registry astdb host:port invalid<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=305692">305692</a><br/>
Reporter: jcovert<br/>
Coders: jcovert<br/>
<br/>
<h3>Category: Channels/chan_local</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=18238">#18238</a>: [patch] can't have a conversation between two users if the only allowed codec is speex16.<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302412">302412</a><br/>
Reporter: whizemen<br/>
Coders: whizemen<br/>
<br/>
<h3>Category: Channels/chan_sip/General</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=16675">#16675</a>: "sip show peer/user <tab>"  doesn't complete correctly<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=303860">303860</a><br/>
Reporter: pj<br/>
Coders: tilghman<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18371">#18371</a>: [patch] asterisk crash when dialing SIP/${var} where var is empty or not set<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=305254">305254</a><br/>
Reporter: gbour<br/>
Coders: gbour<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18491">#18491</a>: [patch] fix SIP indicate deadlocks when lots of state changes<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=306215">306215</a><br/>
Reporter: cmaj<br/>
Testers: cmaj<br/>
Coders: cmaj<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18640">#18640</a>: [patch] Potential malfunction due to unitialized local variable<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302414">302414</a><br/>
Reporter: jcovert<br/>
Coders: jcovert<br/>
<br/>
<h3>Category: Channels/chan_sip/Subscriptions</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=18336">#18336</a>: [branch] No response is received if we try to subscribe for call completion after we have received a 180 Ringing<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=307879">307879</a><br/>
Reporter: GeorgeKonopacki<br/>
Testers: mmichelson, rmudgett<br/>
Coders: rmudgett<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18337">#18337</a>: (Call Completion / SIP) Asterisk Server Fails To Send A Response To A Re-Subscribe After The Expires Timer Matures<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=307879">307879</a><br/>
Reporter: GeorgeKonopacki<br/>
Testers: mmichelson, rmudgett<br/>
Coders: rmudgett<br/>
<br/>
<h3>Category: Core/General</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=18515">#18515</a>: [patch] Asterisk produces many zombie processes while under load.<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302634">302634</a><br/>
Reporter: ernied<br/>
Testers: ernied<br/>
Coders: tilghman<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18580">#18580</a>: [patch] Using 'asterisk -r' no longer displays welcome_message<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=307092">307092</a><br/>
Reporter: pabelanger<br/>
Coders: qwell<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18758">#18758</a>: [patch] astobj2.c does not report ref changes during internal_ao2_callback for refcounter util<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=307273">307273</a><br/>
Reporter: rgagnon<br/>
Coders: rgagnon<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18776">#18776</a>: [patch] asterisk -rx 'core show version' returns an ANSI string, which is not evaluated correctly with debian init.d script.<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=307314">307314</a><br/>
Reporter: alecdavis<br/>
Testers: andrel, lathama<br/>
Coders: lathama<br/>
<br/>
<h3>Category: Core/ManagerInterface</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=18363">#18363</a>: [patch] bad format in post_manager_event() i.e. ParkedCallGiveUp and ParkedCallTimeOut<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302552">302552</a><br/>
Reporter: clegall_proformatique<br/>
Coders: clegall<br/>
<br/>
<h3>Category: Core/Netsock</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=16135">#16135</a>: [patch] ast_gethostbyname doesn't set h_length if argument is an IP Address<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302505">302505</a><br/>
Reporter: thedavidfactor<br/>
Coders: thedavidfactor<br/>
<br/>
<h3>Category: Core/PBX</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=17999">#17999</a>: Issues with DTMF triggered attended transfers<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302174">302174</a><br/>
Reporter: iskatel<br/>
Testers: rmudgett<br/>
Coders: rmudgett<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18310">#18310</a>: [patch] hint state changes deadlock/race<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302266">302266</a><br/>
Reporter: one47<br/>
Coders: one47<br/>
<br/>
<h3>Category: Documentation</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=18443">#18443</a>: [patch] doc/tex dir removed, but corresponding entries in Makefile & README still exists<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=305560">305560</a><br/>
Reporter: bas<br/>
Testers: lathama bas<br/>
Coders: lathama<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18622">#18622</a>: [patch] Remove reference to "priorityjumping" configuration option in extensions.conf.sample<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302417">302417</a><br/>
Reporter: kshumard<br/>
Coders: kshumard<br/>
<br/>
<h3>Category: Features</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=18395">#18395</a>: C should not receive request call again after C cancel if B blind transfer using atxfer call C<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302174">302174</a><br/>
Reporter: shihchuan<br/>
Testers: rmudgett<br/>
Coders: rmudgett<br/>
<br/>
<h3>Category: Features/Parking</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=17946">#17946</a>: [patch] Minor fixes to multiparking<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=307228">307228</a><br/>
Reporter: bluecrow76<br/>
Coders: bluecrow76<br/>
<br/>
<h3>Category: Formats/format_wav</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=16610">#16610</a>: [patch] [OpenSolaris] wav format produces garbage files<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=304097">304097</a><br/>
Reporter: bklang<br/>
Testers: bklang, asgaroth, efutch<br/>
Coders: crjw<br/>
<br/>
<h3>Category: Functions/func_env</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=18731">#18731</a>: [path]  func_env.c FILE estatement left file descriptors open<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=305844">305844</a><br/>
Reporter: marioabajo<br/>
Coders: tilghman<br/>
<br/>
<h3>Category: Functions/func_odbc</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=18795">#18795</a>: [patch] func_odbc insertsql option may not work<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=307837">307837</a><br/>
Reporter: irroot<br/>
Testers: tilghman<br/>
Coders: tilghman<br/>
<br/>
<h3>Category: General</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=18042">#18042</a>: [patch] inefficient strlen() in ast_uri_decode loop<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302555">302555</a><br/>
Reporter: wdoekes<br/>
Coders: wdoekes<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18456">#18456</a>: [patch] Asterisk HTTP response contains wrong Content-type<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=305083">305083</a><br/>
Reporter: alexo<br/>
Testers: alexo<br/>
Coders: alexo<br/>
<br/>
<h3>Category: PBX/pbx_ael</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=18729">#18729</a>: [patch] [regression] Dial() and Queue() with a macro argument are broken by AEL macro compilation change<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=307750">307750</a><br/>
Reporter: kkm<br/>
Testers: kkm<br/>
Coders: tilghman, kkm<br/>
<br/>
<h3>Category: Resources/res_agi</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=16032">#16032</a>: [patch] AGI returns bogus "510 Invalid or unknown command"<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302549">302549</a><br/>
Reporter: notahat<br/>
Coders: fnordian<br/>
<br/>
<h3>Category: Resources/res_config_ldap</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=18435">#18435</a>: [patch] Memory leak in res_config_ldap when using realtime<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=304866">304866</a><br/>
Reporter: zaltar<br/>
Coders: zaltar<br/>
<br/>
<h3>Category: Resources/res_features</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=17096">#17096</a>: C keeps ringing when hanging A and B after blind transfer using atxfer<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302174">302174</a><br/>
Reporter: gelo<br/>
Testers: rmudgett<br/>
Coders: rmudgett<br/>
<br/>
<a href="https://issues.asterisk.org/view.php?id=18262">#18262</a>: [patch] No MOH When Call Parked<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=303107">303107</a><br/>
Reporter: francesco_r<br/>
Testers: francesco_r, rfrantik, one47<br/>
Coders: cjacobsen<br/>
<br/>
<h3>Category: Resources/res_musiconhold</h3><br/>
<a href="https://issues.asterisk.org/view.php?id=18457">#18457</a>: [patch] moh reload leaks file descriptors to dahdi timing channel<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=305473">305473</a><br/>
Reporter: mcallist<br/>
Testers: qwell, loloski<br/>
Coders: qwell<br/>
<br/>
<hr/>
<a name="commits"><h2 align="center">Commits Not Associated with an Issue</h2></a>
<center><a href="#top">[Back to Top]</a></center><br/><p>This is a list of all changes that went into this release that did not directly close an issue from the issue tracker.  The commits may have been marked as being related to an issue.  If that is the case, the issue numbers are listed here, as well.</p>
<table width="100%" border="1">
<tr><td><b>Revision</b></td><td><b>Author</b></td><td><b>Summary</b></td><td><b>Issues Referenced</b></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302267">302267</a></td><td>russell</td><td>Don't enable AO2_DEBUG by default if AST_DEVMODE is on.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302314">302314</a></td><td>mnicholson</td><td>URI encode the user part of the contact header.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302318">302318</a></td><td>rmudgett</td><td>Use the expanded format type instead of plain int.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302462">302462</a></td><td>pabelanger</td><td>Handle 'Resource temporarily unavailable' error more gracefully.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302600">302600</a></td><td>qwell</td><td>Fix typo pointed out on asterisk-users list.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302680">302680</a></td><td>tilghman</td><td>Add some API documentation</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302785">302785</a></td><td>russell</td><td>Resolve a memory leak with the manager interface is disabled.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302789">302789</a></td><td>russell</td><td>Turn a noisy verbose message into a debug message.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302831">302831</a></td><td>pabelanger</td><td>Add binutils-dev for BETTER_BACKTRACES</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302837">302837</a></td><td>russell</td><td>Only check container count if it exists.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=302921">302921</a></td><td>russell</td><td>Resolve a compiler warning.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=303009">303009</a></td><td>jpeeler</td><td>Add new queue strategy to preserve behavior for when queue members moved to ao2.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=303153">303153</a></td><td>rmudgett</td><td>Merged revision 303098 from</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=303286">303286</a></td><td>qwell</td><td>Reset configuration before parsing users.conf.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=303375">303375</a></td><td>qwell</td><td>Temporarily revert r303286</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=303467">303467</a></td><td>qwell</td><td>Reset configuration before parsing users.conf.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=303907">303907</a></td><td>mnicholson</td><td>Reimplemented fax session reservation to reverse the ABI breakage introduced in r297486.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=303962">303962</a></td><td>twilson</td><td>Guard against retransmitting BYEs indefinitely</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=304007">304007</a></td><td>rmudgett</td><td>DTMF attended transfers sometimes fail for no apparent reason.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=304150">304150</a></td><td>rmudgett</td><td>Update documentation for DAHDISendCallreroutingFacility() application.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=304186">304186</a></td><td>seanbright</td><td>Make sure the sample queues.conf is properly commented.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=304245">304245</a></td><td>mnicholson</td><td>This patch modifies chan_sip to route responses to the address the request came from.  It also modifies chan_sip to respect the maddr parameter in the Via header.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=304251">304251</a></td><td>mmichelson</td><td>Get rid of unused 'verbose' field in ast_udptl</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=304339">304339</a></td><td>jpeeler</td><td>Change delimiter used internally for GOTO_ON_BLINDXFR to commas to match 76703.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=304462">304462</a></td><td>qwell</td><td>Rerun bootstrap.sh with no changes, so that it is more obvious what my next commit changes.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=304466">304466</a></td><td>qwell</td><td>Fix default prefix=/usr regression on non-Linux systems.</td>
<td><a href="https://issues.asterisk.org/view.php?id=17013">#17013</a></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=304554">304554</a></td><td>rmudgett</td><td>Warning message if CALLCOMPLETION(cc_callback_macro or cc_agent_dialstring) are empty.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=304683">304683</a></td><td>seanbright</td><td>Don't leak references if we can't create a pseudo channel for mixing in MeetMe.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=304908">304908</a></td><td>lathama</td><td>Add Function and Application Relationships to documentation</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=304985">304985</a></td><td>tilghman</td><td>Fix compilation when ODBC_STORAGE is defined.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=305040">305040</a></td><td>tilghman</td><td>Use the non-specific API aliases, to avoid a problem with building the utils directory.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=305131">305131</a></td><td>qwell</td><td>Set file descriptors to -1 on creation, so that we don't see weirdness later.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=305198">305198</a></td><td>qwell</td><td>Fix compile error.  pseudofd no longer exists.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=305247">305247</a></td><td>qwell</td><td>Add alternative name for config option.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=305343">305343</a></td><td>rmudgett</td><td>Obtain the pri lock for PRI queue counters.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=305603">305603</a></td><td>bbryant</td><td>Add a possible solution to a customer problem with reloading cel_pgsql.so</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=305649">305649</a></td><td>lathama</td><td>SIP Configuration Documentation</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=305753">305753</a></td><td>lathama</td><td>Replace link to old doc with new wiki page.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=305798">305798</a></td><td>lathama</td><td>Replacing doc/* with wiki links</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=305838">305838</a></td><td>lathama</td><td>Replacing doc/* and asterisk.pdf with wiki links</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=305923">305923</a></td><td>rmudgett</td><td>Minor AST_FRAME_TEXT related issues.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=305987">305987</a></td><td>lathama</td><td>res_phoneprov add snom 300, 320, 360, 370, 820, 821, 870 support</td>
<td><a href="https://issues.asterisk.org/view.php?id=18713">#18713</a></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=306124">306124</a></td><td>jpeeler</td><td>Set exception on channel in parking thread when POLLPRI event detected.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=306127">306127</a></td><td>twilson</td><td>Set hangup cause in local_hangup</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=306324">306324</a></td><td>rmudgett</td><td>Don't send redirecting updates to the caller if the dialplan forked the call.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=306575">306575</a></td><td>mmichelson</td><td>Rearrange a bit of code in the generic CC recall operation.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=306619">306619</a></td><td>twilson</td><td>Don't allow a REFER w/replaces to replace its own dialog</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=306674">306674</a></td><td>twilson</td><td>Don't try to pickup a call in the middle of a masquerade</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=306826">306826</a></td><td>lathama</td><td>Documentation Updates.</td>
<td><a href="https://issues.asterisk.org/view.php?id=16505">#16505</a></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=306866">306866</a></td><td>jpeeler</td><td>make this safer and fully correct, pointed out by Steve Davis</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=306967">306967</a></td><td>jpeeler</td><td>fix this line again</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=306979">306979</a></td><td>twilson</td><td>Fix comparison for REFER Replaces tags with pedantic=yes</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=306999">306999</a></td><td>lathama</td><td>Documentation Updates</td>
<td><a href="https://issues.asterisk.org/view.php?id=16505">#16505</a></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=307065">307065</a></td><td>mmichelson</td><td>Add a couple of useful channel variables for the CC recall macro.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=307142">307142</a></td><td>tilghman</td><td>Initialize tracking variable in structure properly.  Fixes a memory leak.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=307467">307467</a></td><td>mmichelson</td><td>Fix a gaffe in the CCSS sample configuration.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=307509">307509</a></td><td>may</td><td>Corrections for properly work with H.323v2 (older) endpoints and other</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=307536">307536</a></td><td>qwell</td><td>Remove color when executing commands via a remote console.</td>
<td><a href="https://issues.asterisk.org/view.php?id=18776">#18776</a></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=307793">307793</a></td><td>tilghman</td><td>Increment usage count at first reference, to avoid a race condition with many threads creating connections all at once.</td>
<td><a href="https://issues.asterisk.org/view.php?id=18156">#18156</a></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=307962">307962</a></td><td>rmudgett</td><td>Don't crash when forcing caller id.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=307970">307970</a></td><td>may</td><td>include tcp keepalive socket calls only on linux, freebsd and others</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=308098">308098</a></td><td>may</td><td>ifdef __linux__ keepalive variables also</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=308150">308150</a></td><td>pabelanger</td><td>Fix FreeBSD builds.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=308242">308242</a></td><td>may</td><td>added g729onlyA option for announce only AnnexA g.729 codec in</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=308288">308288</a></td><td>tilghman</td><td>A few more (copies of) files to ignore in this directory.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=308330">308330</a></td><td>lathama</td><td>Add CSS MIME Type</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=308393">308393</a></td><td>lathama</td><td>Add HTTP URI Debug logging and update notice</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=308416">308416</a></td><td>mnicholson</td><td>Properly check the bounds of arrays when decoding UDPTL packets.  Also, remove broken support for receiving UDPTL packets larger than 16k.  That shouldn't ever happen anyway.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=308526">308526</a></td><td>lathama</td><td>Use ast_debug for console logging</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=308987">308987</a></td><td>lmadsen</td><td>Create Asterisk 1.8.4-rc2 from 1.8.4-rc1</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=308988">308988</a></td><td>lmadsen</td><td>Update .version, ChangeLog, and merge patch from r308945</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=308989">308989</a></td><td>lmadsen</td><td>Importing release summary for 1.8.4-rc2 release.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=315143">315143</a></td><td>lmadsen</td><td>Create Asterisk 1.8.4-rc3 from Asterisk 1.8.4-rc2</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=315144">315144</a></td><td>lmadsen</td><td>Merge changes for 1.8.4-rc3</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=315145">315145</a></td><td>lmadsen</td><td>Merge changes for AST-2011-005 and AST-2011-006</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=315198">315198</a></td><td>lmadsen</td><td>Importing release summary for 1.8.4-rc3 release.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/1.8?view=revision&revision=315199">315199</a></td><td>lmadsen</td><td>Importing release summary for 1.8.4-rc3 release.</td>
<td></td></tr></table>
<hr/>
<a name="diffstat"><h2 align="center">Diffstat Results</h2></a>
<center><a href="#top">[Back to Top]</a></center><br/><p>This is a summary of the changes to the source code that went into this release that was generated using the diffstat utility.</p>
<pre>
.cleancount                               |    2
.version                                  |    2
CHANGES                                   |   30 -
ChangeLog                                 |   15
Makefile                                  |    6
README                                    |    8
UPGRADE.txt                               |    4
addons/chan_ooh323.c                      |   44 +
addons/ooh323c/src/ooCalls.h              |    1
addons/ooh323c/src/ooSocket.c             |   12
addons/ooh323c/src/ooStackCmds.c          |    3
addons/ooh323c/src/oochannels.c           |   11
addons/ooh323c/src/ooh245.c               |    7
addons/ooh323c/src/ooh323.c               |   75 +-
addons/ooh323c/src/ooq931.c               |   37 -
addons/ooh323cDriver.c                    |   12
addons/ooh323cDriver.h                    |    2
apps/app_dial.c                           |   54 +
apps/app_externalivr.c                    |    2
apps/app_meetme.c                         |   45 +
apps/app_privacy.c                        |    2
apps/app_queue.c                          |  194 ++++++
apps/app_sendtext.c                       |    2
apps/app_voicemail.c                      |   56 +
asterisk-1.8.4-rc3-summary.html           |   73 ++
asterisk-1.8.4-rc3-summary.txt            |  106 +++
cel/cel_pgsql.c                           |   10
channels/chan_dahdi.c                     |   37 -
channels/chan_iax2.c                      |    2
channels/chan_local.c                     |    5
channels/chan_sip.c                       |  312 +++++++++-
channels/chan_skinny.c                    |   78 ++
channels/sig_pri.c                        |  274 +++++++--
channels/sig_pri.h                        |   25
channels/sig_ss7.c                        |   48 +
channels/sig_ss7.h                        |   26
channels/sip/include/reqresp_parser.h     |   40 +
channels/sip/include/sip.h                |   15
channels/sip/reqresp_parser.c             |  272 ++++++---
configs/asterisk.conf.sample              |    4
configs/ccss.conf.sample                  |    6
configs/chan_dahdi.conf.sample            |    4
configs/dundi.conf.sample                 |    2
configs/extconfig.conf.sample             |    4
configs/extensions.conf.sample            |    8
configs/h323.conf.sample                  |    5
configs/http.conf.sample                  |    5
configs/iax.conf.sample                   |    2
configs/iaxprov.conf.sample               |    2
configs/manager.conf.sample               |   11
configs/mgcp.conf.sample                  |    2
configs/phoneprov.conf.sample             |    3
configs/queues.conf.sample                |    2
configs/res_snmp.conf.sample              |    3
configs/sip.conf.sample                   |   21
configs/skinny.conf.sample                |   14
configs/sla.conf.sample                   |   10
configs/unistim.conf.sample               |    2
configs/voicemail.conf.sample             |    2
configure.ac                              |    8
contrib/scripts/install_prereq            |    2
doc/asterisk.8                            |  498 +++++++++-------
doc/asterisk.sgml                         |  879 +++++++++++++++---------------
funcs/func_callcompletion.c               |    4
funcs/func_enum.c                         |    2
funcs/func_env.c                          |    6
funcs/func_odbc.c                         |    5
funcs/func_realtime.c                     |   30 +
include/asterisk/astdb.h                  |   27
include/asterisk/ccss.h                   |   23
include/asterisk/channel.h                |   23
include/asterisk/doxygen/mantisworkflow.h |    3
include/asterisk/lock.h                   |   61 +-
include/asterisk/manager.h                |    2
include/asterisk/res_fax.h                |   22
main/acl.c                                |   20
main/app.c                                |   61 +-
main/ast_expr2.fl                         |    2
main/ast_expr2f.c                         |    2
main/asterisk.c                           |    2
main/astobj2.c                            |    8
main/ccss.c                               |   86 ++
main/channel.c                            |   40 +
main/config.c                             |    2
main/features.c                           |   59 +-
main/file.c                               |   10
main/heap.c                               |    6
main/http.c                               |   36 +
main/lock.c                               |  495 +++++++++-------
main/logger.c                             |   18
main/manager.c                            |  115 +++
main/pbx.c                                |  180 +++---
main/tcptls.c                             |    7
main/udptl.c                              |   53 -
main/utils.c                              |    6
phoneprov/snom-mac.xml                    |   24
res/res_agi.c                             |    4
res/res_calendar.c                        |   30 +
res/res_config_ldap.c                     |    6
res/res_fax.c                             |   65 +-
res/res_musiconhold.c                     |    6
res/res_odbc.c                            |   11
res/res_srtp.c                            |    2
res/res_timing_dahdi.c                    |    2
res/res_timing_timerfd.c                  |    2
105 files changed, 3386 insertions(+), 1630 deletions(-)
</pre><br/>
<hr/>
</body>
</html>
