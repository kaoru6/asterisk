                                Release Summary

                               asterisk-1.8.3-rc1

                                Date: 2011-01-18

                           <asteriskteam@digium.com>

     ----------------------------------------------------------------------

                               Table of Contents

    1. Summary
    2. Contributors
    3. Closed Issues
    4. Other Changes
    5. Diffstat

     ----------------------------------------------------------------------

                                    Summary

                                 [Back to Top]

   This release includes only bug fixes. The changes included were made only
   to address problems that have been identified in this release series.
   Users should be able to safely upgrade to this version if this release
   series is already in use. Users considering upgrading from a previous
   release series are strongly encouraged to review the UPGRADE.txt document
   as well as the CHANGES document for information about upgrading to this
   release series.

   The data in this summary reflects changes that have been made since the
   previous release, asterisk-1.8.2.

     ----------------------------------------------------------------------

                                  Contributors

                                 [Back to Top]

   This table lists the people who have submitted code, those that have
   tested patches, as well as those that reported issues on the issue tracker
   that were resolved in this release. For coders, the number is how many of
   their patches (of any size) were committed into this release. For testers,
   the number is the number of times their name was listed as assisting with
   testing a patch. Finally, for reporters, the number is the number of
   issues that they reported that were closed by commits that went into this
   release.

     Coders                   Testers                  Reporters              
   17 tilghman              5 lathama                2 cjacobsen              
   10 rmudgett              5 rmudgett               2 jcovert                
   6 jpeeler                3 jthurman               2 joscas                 
   6 pabelanger             2 elguero                2 lathama                
   5 lathama                2 GeorgeKonopacki        2 makoto                 
   5 lmadsen                2 joscas                 2 pabelanger             
   3 bbryant                2 pabelanger             1 bcnit                  
   3 mnicholson             2 trev                   1 bunny                  
   3 twilson                2 zerohalo               1 cabal95                
   2 cjacobsen              1 bunny                  1 dimas                  
   2 makoto                 1 dimas                  1 Dovid                  
   2 mmichelson             1 gbour                  1 ebroad                 
   1 dimas                  1 jcovert                1 gbour                  
   1 dvossel                1 ks3                    1 gelo                   
   1 IgorG                  1 makoto                 1 GeorgeKonopacki        
   1 jcovert                1 Marquis                1 grecco                 
   1 jthurman               1 mdu113                 1 IgorG                  
   1 ks3                    1 mmurdock               1 iskatel                
   1 kshumard               1 moy                    1 jlaguilar              
   1 marquis                1 nivek                  1 jthurman               
   1 may                    1 pprindeville           1 kkm                    
   1 moy                    1 seanbright             1 ks3                    
   1 pitel                  1 twilson                1 kshumard               
   1 pprindeville           1 wimpy                  1 mariner7               
   1 russell                                         1 mdu113                 
   1 schmidts                                        1 mmurdock               
   1 tzafrir                                         1 nivek                  
                                                     1 pitel                  
                                                     1 pprindeville           
                                                     1 rgj                    
                                                     1 shihchuan              
                                                     1 thsgmbh                
                                                     1 voipgate               
                                                     1 wimpy                  
                                                     1 wybecom                
                                                     1 zerohalo               

     ----------------------------------------------------------------------

                                 Closed Issues

                                 [Back to Top]

   This is a list of all issues from the issue tracker that were closed by
   changes that went into this release.

  Category: Addons/res_config_mysql

   #18525: [patch] ast_update2_realtime fails to update multiple columns with
   MySQL driver
   Revision: 299583
   Reporter: makoto
   Coders: makoto

   #18526: [patch] res_config_mysql.so crashes when processing "#include"
   with a file which doesn't exist
   Revision: 300798
   Reporter: makoto
   Testers: makoto
   Coders: makoto

  Category: Applications/app_dial

   #18602: Dial MulticastRTP channels with A option kills asterisk
   Revision: 301845
   Reporter: wybecom
   Coders: bbryant

  Category: Applications/app_meetme

   #18182: [patch] useropts not initialized
   Revision: 301090
   Reporter: dimas
   Testers: dimas
   Coders: dimas

  Category: Applications/app_verbose

   #18586: [patch] Indicate log level argument for Log() is not optional
   Revision: 301177
   Reporter: kshumard
   Coders: kshumard

  Category: Applications/app_voicemail

   #18358: [patch] Cannot forward voicemail with file storage backend
   Revision: 301047
   Reporter: cabal95
   Coders: jpeeler

   #18600: [patch] r299990 broke file paths on Linux
   Revision: 301402
   Reporter: ebroad
   Coders: tilghman

  Category: CDR/General

   #18461: [patch] cel.conf mentions USER_EVENT when it should be
   USER_DEFINED
   Revision: 299312
   Reporter: joscas
   Testers: lathama, joscas
   Coders: lathama

  Category: CDR/cdr_pgsql

   #18460: [patch] CDR(billsec) is not inserted properly for unanswered calls
   Revision: 299131
   Reporter: joscas
   Testers: joscas
   Coders: tilghman

  Category: Channels/chan_dahdi

   #17273: atxfer *2 channel dahdi FXS no hangup
   Revision: 302174
   Reporter: grecco
   Testers: rmudgett
   Coders: rmudgett

   #18438: Ealry media is lost on accepted calls (with open r2 support,
   Elastix 2 flavor)
   Revision: 299531
   Reporter: mariner7
   Testers: moy
   Coders: moy

   #18508: [patch] chan_dahdi inserts empty COLP
   Revision: 299405
   Reporter: wimpy
   Testers: wimpy, rmudgett
   Coders: rmudgett

  Category: Channels/chan_iax2

   #18583: [patch] Codec negotiation fails on IAX calls from 1.8.1.1 to
   1.8.1.1
   Revision: 301263
   Reporter: jcovert
   Testers: jcovert
   Coders: tilghman

  Category: Channels/chan_sip/DatabaseSupport

   #18251: [patch] Realtime field 'fullcontact' populated with invalid data
   Revision: 298482
   Reporter: bcnit
   Testers: trev, jthurman, elguero, zerohalo
   Coders: tilghman

  Category: Channels/chan_sip/General

   #18338: [patch] (Call Completion / SIP) INVITE Fails (Receive a 404 From
   Asterisk Server) When Using The URI Provided From A NOTIFY(cc-r
   Revision: 299248
   Reporter: GeorgeKonopacki
   Testers: GeorgeKonopacki
   Coders: mmichelson

   #18350: [patch] asterisk crash when setting outbound mwi subscription in
   sip.conf
   Revision: 298773
   Reporter: gbour
   Testers: Marquis, gbour
   Coders: marquis

   #18504: SIP autocreated peers crash asterisk on call
   Revision: 299248
   Reporter: kkm
   Testers: GeorgeKonopacki
   Coders: mmichelson

  Category: Channels/chan_sip/IPv6

   #18464: [patch] IPv6 address truncated when stored in realtime
   Revision: 298539
   Reporter: IgorG
   Coders: IgorG

  Category: Channels/chan_sip/Subscriptions

   #18075: [patch] Asterisk fails to recognize SUBSCRIBE retransmissions and
   tries to re-authenticate them, which breaks presence on polyco
   Revision: 300301
   Reporter: mdu113
   Testers: twilson, mdu113
   Coders: twilson

   #18597: [regression] Snom BLF subscription does not work
   Revision: 301683
   Reporter: thsgmbh
   Coders: twilson

  Category: Channels/chan_sip/Transfers

   #18403: [patch] Deadlock on SIP blind transfer (REFER)
   Revision: 301790
   Reporter: jthurman
   Testers: jthurman
   Coders: jthurman, jpeeler

  Category: Core/BuildSystem

   #18493: [patch] Sqlite3 requires -lpthread to build in configure.ac
   Revision: 298818
   Reporter: pprindeville
   Testers: pprindeville
   Coders: pprindeville

   #18589: [patch] [regression] asterisk 1.8 tarball sound files ignored,
   Makefile re-downloads them.
   Revision: 301221
   Reporter: pabelanger
   Testers: pabelanger
   Coders: pabelanger

  Category: Core/PBX

   #17999: Issues with DTMF triggered attended transfers
   Revision: 302174
   Reporter: iskatel
   Testers: rmudgett
   Coders: rmudgett

  Category: Core/RTP

   #18290: MutlicastRTP makes asterisk crash
   Revision: 301845
   Reporter: voipgate
   Coders: bbryant

  Category: Documentation

   #18531: [patch] Note more settings in users.conf.sample to guide the user
   Revision: 300433
   Reporter: lathama
   Testers: lathama
   Coders: lathama

  Category: Features

   #18395: C should not receive request call again after C cancel if B blind
   transfer using atxfer call C
   Revision: 302174
   Reporter: shihchuan
   Testers: rmudgett
   Coders: rmudgett

  Category: Features/Parking

   #15758: Park application expects timeout to be in Milliseconds
   Revision: 299088
   Reporter: mmurdock
   Testers: mmurdock, seanbright
   Coders: lmadsen

  Category: Functions/func_dialgroup

   #18091: [patch] dialgroup fills database with duplicates
   Revision: 298478
   Reporter: bunny
   Testers: bunny
   Coders: tilghman

  Category: Functions/func_odbc

   #18243: [patch] Random segfault when querying MySQL via func_odbc
   Revision: 300623
   Reporter: ks3
   Testers: ks3
   Coders: ks3

  Category: General

   #18130: [regression] DTMF on agent channel causes high CPU
   Revision: 301504
   Reporter: rgj
   Coders: jpeeler

   #18446: [patch] Configuring settings in /etc/defaults/asterisk cause the
   init.d process to stay on STDOUT
   Revision: 298827
   Reporter: lathama
   Testers: lathama
   Coders: lathama

   #18547: [patch] main/xmldoc.c error message is backwards -- fix that, and
   remove the sources of the error while we're at it
   Revision: 300521
   Reporter: jcovert
   Coders: jcovert

  Category: PBX/pbx_ael

   #18480: [patch] Contexts with a 'switch' statement in a 's' extension adds
   MSet to the beginning of the Context
   Revision: 299449
   Reporter: nivek
   Testers: nivek
   Coders: tilghman

  Category: PBX/pbx_realtime

   #16228: eswitch does not substiotute variables when using Local Channel
   Revision: 299626
   Reporter: jlaguilar
   Coders: tilghman

  Category: Resources/res_calendar

   #18521: [patch] Memory leaking in calendars
   Revision: 300214
   Reporter: pitel
   Coders: pitel

  Category: Resources/res_config_odbc

   #18279: [patch] res_odbc using ^ separator in M(macro) option as argument
   separator in Dial app gives control characters
   Revision: 298482
   Reporter: zerohalo
   Testers: trev, jthurman, elguero, zerohalo
   Coders: tilghman

  Category: Resources/res_fax

   #18481: [patch] *** glibc detected *** /usr/sbin/asterisk: free(): invalid
   pointer on shutdown
   Revision: 298394
   Reporter: pabelanger
   Testers: pabelanger
   Coders: tilghman

  Category: Resources/res_features

   #17096: C keeps ringing when hanging A and B after blind transfer using
   atxfer
   Revision: 302174
   Reporter: gelo
   Testers: rmudgett
   Coders: rmudgett

  Category: Resources/res_phoneprov

   #18503: [patch] Polycom 000000000000.cfg template uses old parameter
   separator
   Revision: 300384
   Reporter: cjacobsen
   Testers: lathama
   Coders: cjacobsen

   #18607: [patch] Static entry for Polycom 331 split firmware
   Revision: 301731
   Reporter: cjacobsen
   Testers: lathama
   Coders: cjacobsen

  Category: Tests/General

   #18594: Text Correction
   Revision: 301444
   Reporter: Dovid
   Coders: schmidts

     ----------------------------------------------------------------------

                      Commits Not Associated with an Issue

                                 [Back to Top]

   This is a list of all changes that went into this release that did not
   directly close an issue from the issue tracker. The commits may have been
   marked as being related to an issue. If that is the case, the issue
   numbers are listed here, as well.

   +------------------------------------------------------------------------+
   | Revision | Author     | Summary                           | Issues     |
   |          |            |                                   | Referenced |
   |----------+------------+-----------------------------------+------------|
   | 298195   | rmudgett   | Outgoing PRI/BRI calls cannot do  |            |
   |          |            | DTMF triggered transfers.         |            |
   |----------+------------+-----------------------------------+------------|
   | 298598   | jpeeler    | Fix improper hangup when doing an |            |
   |          |            | attended transfer to queue.       |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | After recording only silence for  |            |
   | 298685   | jpeeler    | a voicemail prepending, restore   |            |
   |          |            | backup files.                     |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | Let Asterisk find better          |            |
   | 298960   | tilghman   | backtrace information with        |            |
   |          |            | libbfd.                           |            |
   |----------+------------+-----------------------------------+------------|
   | 298963   | tilghman   | Remove backtrace used for testing |            |
   |          |            | merge process                     |            |
   |----------+------------+-----------------------------------+------------|
   | 299004   | tzafrir    | Typos: recieved => received       |            |
   |----------+------------+-----------------------------------+------------|
   | 299138   | tilghman   | Documentation fix                 |            |
   |----------+------------+-----------------------------------+------------|
   | 299353   | mnicholson | Respond as soon as possible with  |            |
   |          |            | a 202 Accepted to refer requests. |            |
   |----------+------------+-----------------------------------+------------|
   | 299711   | may        | Change order of sending TCS and   | #18433     |
   |          |            | MSD packets                       |            |
   |----------+------------+-----------------------------------+------------|
   | 299752   | tilghman   | Properly quote path on Darwin.    |            |
   |----------+------------+-----------------------------------+------------|
   | 299753   | tilghman   | Regen configure                   |            |
   |----------+------------+-----------------------------------+------------|
   | 299794   | tilghman   | Mac OS X spaces-in-pathnames fix. |            |
   |----------+------------+-----------------------------------+------------|
   | 299820   | tilghman   | More space-in-pathname issues.    |            |
   |----------+------------+-----------------------------------+------------|
   | 299865   | pabelanger | Documentation typo                |            |
   |----------+------------+-----------------------------------+------------|
   | 299907   | pabelanger | Properly quote varibles for MAC   |            |
   |          |            | OS X                              |            |
   |----------+------------+-----------------------------------+------------|
   | 299948   | pabelanger | Only remove /tmp/astdatadir, not  |            |
   |          |            | /var/lib/asterisk                 |            |
   |----------+------------+-----------------------------------+------------|
   | 299989   | tilghman   | Quote arguments, just in case     |            |
   |          |            | there's a space in a pathname.    |            |
   |----------+------------+-----------------------------------+------------|
   | 300082   | lmadsen    | Increase side of mapping response |            |
   |          |            | field.                            |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | Use correct variable for          |            |
   | 300166   | rmudgett   | atxfercallbackretries config      |            |
   |          |            | option.                           |            |
   |----------+------------+-----------------------------------+------------|
   | 300430   | russell    | Update the autosupport script     |            |
   |          |            | from Digium support.              |            |
   |----------+------------+-----------------------------------+------------|
   | 300575   | pabelanger | Change deprecated message to      |            |
   |          |            | LOG_WARNING                       |            |
   |----------+------------+-----------------------------------+------------|
   | 300714   | rmudgett   | Merged revision 300711 from       |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | Ensure good bye prompt in         |            |
   | 300955   | jpeeler    | voicemail is played at the        |            |
   |          |            | correct time.                     |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | The DTMF attended transfer        |            |
   | 301134   | rmudgett   | feature cannot callback a         |            |
   |          |            | chan_dahdi BRI phone.             |            |
   |----------+------------+-----------------------------------+------------|
   | 301308   | mnicholson | Prevent buffer overflows in       |            |
   |          |            | ast_uri_encode()                  |            |
   |----------+------------+-----------------------------------+------------|
   | 301311   | pabelanger | Fix a logic issue when passing    |            |
   |          |            | context ARG                       |            |
   |----------+------------+-----------------------------------+------------|
   | 301446   | dvossel    | Removal of unused variables so    |            |
   |          |            | Asterisk will compile.            |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | Removed a usleep(1) that          |            |
   | 301595   | mnicholson | shouldn't be necessary in         |            |
   |          |            | session_do, and removed the       |            |
   |----------+------------+-----------------------------------+------------|
   | 301844   | lathama    | Add relationships to function     |            |
   |          |            | documentation.                    |            |
   |----------+------------+-----------------------------------+------------|
   | 301849   | lathama    | Add relationships to function     |            |
   |          |            | documentation.                    |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | Changing previous revisions       |            |
   | 301851   | bbryant    | 301845/301847 to use              |            |
   |          |            | ast_sockaddr_setnull() instead    |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | Deadlock between dahdi_request()  |            |
   | 301946   | rmudgett   | and pri_dchannel() processing an  |            |
   |          |            | incomming call.                   |            |
   |----------+------------+-----------------------------------+------------|
   | 302005   | twilson    | Document "encryption" option in   |            |
   |          |            | sip.conf.sample                   |            |
   |----------+------------+-----------------------------------+------------|
   | 302106   | lmadsen    | Create 1.8.2.1 from 1.8.2         |            |
   |----------+------------+-----------------------------------+------------|
   | 302150   | lmadsen    | AST-2011-001                      |            |
   |----------+------------+-----------------------------------+------------|
   | 302160   | lmadsen    | Importing release summary for     |            |
   |          |            | 1.8.2.1 release.                  |            |
   +------------------------------------------------------------------------+

     ----------------------------------------------------------------------

                                Diffstat Results

                                 [Back to Top]

   This is a summary of the changes to the source code that went into this
   release that was generated using the diffstat utility.

 .version                          |    2
 ChangeLog                         |    6
 Makefile                          |   58
 Makefile.moddir_rules             |    2
 addons/ooh323c/src/oochannels.c   |   14
 addons/ooh323c/src/ooh245.c       |   20
 addons/ooh323c/src/ooh323.c       |   29
 addons/ooh323c/src/ooq931.c       |   11
 addons/res_config_mysql.c         |    2
 apps/app_chanspy.c                |    2
 apps/app_meetme.c                 |    4
 apps/app_queue.c                  |    1
 apps/app_verbose.c                |    2
 apps/app_voicemail.c              |   43
 asterisk-1.8.2-summary.html       |  365 ----
 asterisk-1.8.2-summary.txt        |  489 -----
 asterisk-1.8.2.1-summary.html     |   60
 asterisk-1.8.2.1-summary.txt      |   88
 autoconf/ast_ext_lib.m4           |    2
 build_tools/cflags-devmode.xml    |    6
 build_tools/make_sample_voicemail |   12
 build_tools/menuselect-deps.in    |    2
 cdr/cdr_pgsql.c                   |    6
 cdr/cdr_sqlite.c                  |    9
 channels/chan_agent.c             |    2
 channels/chan_dahdi.c             |   36
 channels/chan_iax2.c              |    4
 channels/chan_local.c             |   18
 channels/chan_multicast_rtp.c     |    2
 channels/chan_sip.c               |  320 ++-
 channels/sig_pri.c                |   79
 channels/sig_pri.h                |    2
 configs/cel.conf.sample           |    2
 configs/extensions.conf.sample    |   14
 configs/phoneprov.conf.sample     |    2
 configs/sip.conf.sample           |   11
 configs/users.conf.sample         |   29
 configure.ac                      |   40
 contrib/init.d/rc.debian.asterisk |    2
 contrib/scripts/autosupport       |  619 +++++-
 contrib/scripts/autosupport.8     |   61
 funcs/func_aes.c                  |   10
 funcs/func_base64.c               |   10
 funcs/func_dialgroup.c            |    5
 include/asterisk/autoconfig.h.in  |    6
 include/asterisk/logger.h         |   10
 include/asterisk/utils.h          |    9
 main/Makefile                     |    4
 main/aoc.c                        |   12
 main/astobj2.c                    |    2
 main/channel.c                    |    2
 main/features.c                   | 1032 +++++++----
 main/file.c                       |   10
 main/logger.c                     |  152 +
 main/manager.c                    |   14
 main/strcompat.c                  |   32
 main/utils.c                      |   43
 main/xmldoc.c                     |    2
 makeopts.in                       |    3
 pbx/ael/ael-test/ref.ael-test19   |    2
 pbx/ael/ael-test/ref.ael-test3    |   14
 pbx/ael/ael-test/ref.ael-vtest13  | 3367 ++++++++++++++++++--------------------
 pbx/ael/ael-test/ref.ael-vtest17  |   16
 pbx/ael/ael-test/ref.ael-vtest25  |    2
 pbx/pbx_dundi.c                   |    2
 phoneprov/000000000000.cfg        |    2
 res/ael/pval.c                    |    8
 res/res_calendar_exchange.c       |    1
 res/res_calendar_icalendar.c      |    1
 res/res_config_odbc.c             |    5
 res/res_odbc.c                    |   17
 sample.call                       |    2
 sounds/Makefile                   |   25
 utils/ael_main.c                  |   11
 utils/check_expr.c                |   12
 utils/conf2ael.c                  |   12
 utils/hashtest.c                  |   13
 utils/hashtest2.c                 |   12
 utils/refcounter.c                |   13
 79 files changed, 3944 insertions(+), 3429 deletions(-)

     ----------------------------------------------------------------------
