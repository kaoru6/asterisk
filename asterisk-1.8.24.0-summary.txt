                                Release Summary

                               asterisk-1.8.24.0

                                Date: 2013-10-21

                           <asteriskteam@digium.com>

     ----------------------------------------------------------------------

                               Table of Contents

    1. Summary
    2. Contributors
    3. Closed Issues
    4. Other Changes
    5. Diffstat

     ----------------------------------------------------------------------

                                    Summary

                                 [Back to Top]

   This release includes only bug fixes. The changes included were made only
   to address problems that have been identified in this release series.
   Users should be able to safely upgrade to this version if this release
   series is already in use. Users considering upgrading from a previous
   release series are strongly encouraged to review the UPGRADE.txt document
   as well as the CHANGES document for information about upgrading to this
   release series.

   The data in this summary reflects changes that have been made since the
   previous release, asterisk-1.8.23.0.

     ----------------------------------------------------------------------

                                  Contributors

                                 [Back to Top]

   This table lists the people who have submitted code, those that have
   tested patches, as well as those that reported issues on the issue tracker
   that were resolved in this release. For coders, the number is how many of
   their patches (of any size) were committed into this release. For testers,
   the number is the number of times their name was listed as assisting with
   testing a patch. Finally, for reporters, the number is the number of
   issues that they reported that were closed by commits that went into this
   release.

     Coders                   Testers                  Reporters              
   10 rmudgett              3 Corey Farrell          7 coreyfarrell           
   9 wdoekes                2 wdoekes                2 dlee                   
   6 elguero                1 Alex Zarubin           2 mdavenport             
   6 mjordan                1 Ariel Wainer           2 mjordan                
   5 Corey Farrell          1 CGI.NET                2 wdoekes                
   4 dlee                   1 Colin Cutherbertson    1 abelbeck               
   4 jrose                  1 Doug Bailey            1 aepshteyn              
   4 kmoore                 1 elguero                1 anstein                
   3 bebuild                1 Jacek Konieczny        1 ariw                   
   2 coreyfarrell           1 Karsten Wemheuer       1 az_tth                 
   2 newtonr                1 Michael Keuter         1 brietz                 
   1 abelbeck               1 mjordan                1 colinc                 
   1 alecdavis              1 Stuart Henderson       1 dbailey                
   1 anstein                                         1 gkelleter              
   1 file                                            1 ivo.andonov            
   1 Guenther Kelleter                               1 jkonieczny             
   1 jcolp                                           1 jrose                  
   1 kharwell                                        1 kenner                 
   1 mmichelson                                      1 nsnake                 
   1 moy                                             1 phill                  
   1 phill                                           1 rafuchoucv             
   1 Richard Miller                                  1 rnewton                
   1 russell                                         1 snuffy                 
   1 snuffy                                          1 sthen                  
   1 Stefan Wachtler                                 1 ulogic                 
   1 varnav                                          1 varnav                 
                                                     1 wimpy                  

     ----------------------------------------------------------------------

                                 Closed Issues

                                 [Back to Top]

   This is a list of all issues from the issue tracker that were closed by
   changes that went into this release.

  Category: Applications/app_meetme

   ASTERISK-21907: Crash - segfault - When executing a MeetMeAdmin command
   that requires a member, without specifying a member
   Revision: 399033
   Reporter: aepshteyn
   Coders: kmoore

  Category: Applications/app_queue

   ASTERISK-22263: [patch] 'queue add member ...' help text update
   Revision: 398884
   Reporter: rnewton
   Coders: newtonr

  Category: Bridges/bridge_native_rtp

   ASTERISK-22424: bridge_native_rtp: Asterisk 12 attempts to remotely bridge
   on 200OK response to invite when the 200 lacks SDP
   Revision: 398835
   Reporter: jrose
   Coders: jrose

  Category: CEL/General

   ASTERISK-22259: [patch] cel segfault on invalid cel.conf
   Revision: 397033
   Reporter: coreyfarrell
   Testers: Corey Farrell
   Coders: Corey Farrell

  Category: Channels/chan_dahdi

   ASTERISK-21117: Bad interpretation of the file chan_dahdi.conf when using
   open r2 parameters
   Revision: 394106
   Reporter: rafuchoucv
   Coders: moy

   ASTERISK-21847: Segfault due to dahdi_restart and round robin
   Revision: 393627
   Reporter: ivo.andonov
   Coders: rmudgett

  Category: Channels/chan_iax2

   ASTERISK-21953: connectedline parameter not documented
   Revision: 394886
   Reporter: wimpy
   Coders: mjordan

   ASTERISK-22504: [patch] chan_iax2: wrong expiry time in astdb
   Revision: 399158
   Reporter: brietz
   Coders: Stefan Wachtler

  Category: Channels/chan_local

   ASTERISK-22221: The masquerade super-test fails on all Asterisk versions
   Revision: 397525
   Reporter: mjordan
   Coders: rmudgett

  Category: Channels/chan_sip/General

   ASTERISK-21064: Crash when handling ACK on dialog that has no channel
   Revision: 397710
   Reporter: colinc
   Testers: wdoekes, Colin Cutherbertson
   Coders: wdoekes

   ASTERISK-22007: chan_sip: segfault with invalid sdp
   Revision: 397756
   Reporter: wdoekes
   Testers: wdoekes
   Coders: wdoekes

   ASTERISK-22071: chan_sip doesn't respect Via ..completely
   Revision: 397204
   Reporter: az_tth
   Testers: Alex Zarubin, Karsten Wemheuer
   Coders: elguero

   ASTERISK-22239: [patch] Missing extra line break between peers when
   running AMI action SIPPeers
   Revision: 396236
   Reporter: jkonieczny
   Testers: Jacek Konieczny, elguero
   Coders: elguero

   ASTERISK-22248: [patch] test_sip_rtpqos corrupts dialogs container
   Revision: 397112
   Reporter: coreyfarrell
   Coders: Corey Farrell

  Category: Channels/chan_sip/Registration

   ASTERISK-21964: SIP TLS Register statement fails if sip.conf register
   directive uses peer name.
   Revision: 396240
   Reporter: dbailey
   Testers: Doug Bailey
   Coders: elguero

  Category: Channels/chan_sip/T.38

   ASTERISK-22275: [patch] T.38 Passthrough broken if peer doen't report
   T38MaxBitRate
   Revision: 397256
   Reporter: anstein
   Coders: anstein

  Category: Contrib/General

   ASTERISK-21021: SQL script to create queue_log table in PostgreSQL
   Revision: 394896
   Reporter: varnav
   Coders: varnav

  Category: Core/General

   ASTERISK-22179: Update copyright headers - they're so last year
   Revision: 395032
   Reporter: mdavenport
   Coders: mjordan

   ASTERISK-22238: [patch] astfd and threadstorage debug cli commands are not
   unregistered
   Revision: 397106
   Reporter: coreyfarrell
   Testers: Corey Farrell
   Coders: Corey Farrell

   ASTERISK-22249: [patch] xmldoc.c leaks an attribute
   Revision: 397064
   Reporter: coreyfarrell
   Testers: Corey Farrell
   Coders: Corey Farrell

   ASTERISK-22536: MALLOC_DEBUG causes /tmp/refs to be written, even if
   REF_DEBUG is not defined
   Revision: 399098
   Reporter: dlee
   Coders: dlee

  Category: Core/HTTP

   ASTERISK-21789: ast_http_get_cookies() fails in the presence of RFC2965
   Cookie2 header
   Revision: 394899
   Reporter: sthen
   Testers: mjordan, Stuart Henderson
   Coders: mjordan

   ASTERISK-22237: [patch] http_shutdown incomplete
   Revision: 397308
   Reporter: coreyfarrell
   Coders: Corey Farrell

  Category: Core/Jitterbuffer

   ASTERISK-21036: Jitter Buffer log file creation doesn't account for
   multiple slashes in DAHDI channel names
   Revision: 399402
   Reporter: kenner
   Coders: kmoore

  Category: Core/ManagerInterface

   ASTERISK-21789: ast_http_get_cookies() fails in the presence of RFC2965
   Cookie2 header
   Revision: 394899
   Reporter: sthen
   Testers: mjordan, Stuart Henderson
   Coders: mjordan

   ASTERISK-22395: [patch] manager.c and res_agi.c leak results from
   ast_xmldoc_printable
   Revision: 398060
   Reporter: coreyfarrell
   Coders: coreyfarrell

  Category: Core/RTP

   ASTERISK-22424: bridge_native_rtp: Asterisk 12 attempts to remotely bridge
   on 200OK response to invite when the 200 lacks SDP
   Revision: 398835
   Reporter: jrose
   Coders: jrose

  Category: Documentation

   ASTERISK-22308: Documentation - chan_dahdi, waitfordialtone is not
   boolean, it's time in milliseconds
   Revision: 398880
   Reporter: mdavenport
   Coders: newtonr

  Category: Features/Parking

   ASTERISK-22413: [patch] features.c TEST_FRAMEWORK leaks channel reference,
   preventing graceful shutdown
   Revision: 398021
   Reporter: coreyfarrell
   Coders: coreyfarrell

  Category: Functions/func_channel

   ASTERISK-20969: Fix func_channel documentation for sip/iax2/dadhi
   Revision: 394980
   Reporter: snuffy
   Coders: snuffy

  Category: Functions/func_strings

   ASTERISK-21717: [patch] - Documentation for PASSTHRU function is unclear
   Revision: 394302
   Reporter: ulogic
   Coders: Richard Miller

  Category: Resources/res_agi

   ASTERISK-21903: [patch] Return proper result upon error when running some
   AGI commands
   Revision: 394640
   Reporter: ariw
   Testers: Ariel Wainer
   Coders: elguero

   ASTERISK-22395: [patch] manager.c and res_agi.c leak results from
   ast_xmldoc_printable
   Revision: 398060
   Reporter: coreyfarrell
   Coders: coreyfarrell

  Category: Resources/res_features

   ASTERISK-22416: [patch] Segmentation fault (in
   process_applicationmap_line, at features.c) when using improper feature
   mapping syntax
   Revision: 399304
   Reporter: nsnake
   Testers: CGI.NET
   Coders: elguero

  Category: Resources/res_indications

   ASTERISK-21997: [patch] - Incorrect Ring tone for Malaysia
   Revision: 394940
   Reporter: phill
   Coders: phill

  Category: Resources/res_jabber

   ASTERISK-22435: [patch] jabber/xmpp MWI distributed pubsub issue where the
   mailbox and context get swapped at the remote end
   Revision: 398523
   Reporter: abelbeck
   Testers: Michael Keuter
   Coders: abelbeck

  Category: Resources/res_musiconhold

   ASTERISK-22252: res_musiconhold cleanup - REF_DEBUG reload warnings and
   ref leaks
   Revision: 398937
   Reporter: wdoekes
   Coders: jrose

  Category: Resources/res_xmpp

   ASTERISK-22435: [patch] jabber/xmpp MWI distributed pubsub issue where the
   mailbox and context get swapped at the remote end
   Revision: 398523
   Reporter: abelbeck
   Testers: Michael Keuter
   Coders: abelbeck

  Category: Tests/General

   ASTERISK-22276: Test test_hashtab_thrash fails on 32-bit machines when
   compiled without DEBUG_THREADS
   Revision: 396619
   Reporter: mjordan
   Coders: jcolp

   ASTERISK-22413: [patch] features.c TEST_FRAMEWORK leaks channel reference,
   preventing graceful shutdown
   Revision: 398021
   Reporter: coreyfarrell
   Coders: coreyfarrell

  Category: Tests/testsuite

   ASTERISK-22221: The masquerade super-test fails on all Asterisk versions
   Revision: 397525
   Reporter: mjordan
   Coders: rmudgett

     ----------------------------------------------------------------------

                      Commits Not Associated with an Issue

                                 [Back to Top]

   This is a list of all changes that went into this release that did not
   directly close an issue from the issue tracker. The commits may have been
   marked as being related to an issue. If that is the case, the issue
   numbers are listed here, as well.

   +------------------------------------------------------------------------+
   | Revision | Author     | Summary                    | Issues Referenced |
   |----------+------------+----------------------------+-------------------|
   |          |            | IAX2: Transfer Reject:     |                   |
   | 391333   | alecdavis  | Lock bridgecallno before   |                   |
   |          |            | touching it, refactor      |                   |
   |----------+------------+----------------------------+-------------------|
   | 391489   | mjordan    | Fix memory leak while      |                   |
   |          |            | loading priority modules   |                   |
   |----------+------------+----------------------------+-------------------|
   |          |            | app_mixmonitor: Fix        |                   |
   | 391778   | jrose      | crashes caused by          |                   |
   |          |            | unloading app_mixmonitor   |                   |
   |----------+------------+----------------------------+-------------------|
   | 393928   | russell    | astobj2-ify the SLA code   |                   |
   |----------+------------+----------------------------+-------------------|
   |          |            | Adding a note to           |                   |
   | 396196   | elguero    | UPGRADE.txt about a change | ASTERISK-21903    |
   |          |            | made to res_agi in order   |                   |
   |          |            | to                         |                   |
   |----------+------------+----------------------------+-------------------|
   |          |            | Check result of            |                   |
   | 396279   | wdoekes    | ast_var_assign() calls for |                   |
   |          |            | memory allocation failure. |                   |
   |----------+------------+----------------------------+-------------------|
   |          |            | Consistent memory          |                   |
   | 396427   | wdoekes    | allocation by              |                   |
   |          |            | ast_bt_get_symbols.        |                   |
   |----------+------------+----------------------------+-------------------|
   |          |            | chan_sip: Fix IP-addr in   |                   |
   | 396579   | wdoekes    | warning when rejecting a   |                   |
   |          |            | contact ACL.               |                   |
   |----------+------------+----------------------------+-------------------|
   |          |            | chan_sip: Convert 'just    |                   |
   | 396582   | wdoekes    | did sched_add waitid...'   |                   |
   |          |            | from warning to debug      |                   |
   |          |            | message.                   |                   |
   |----------+------------+----------------------------+-------------------|
   | 396656   | file       | Tweak comment for why      |                   |
   |          |            | usleep is used.            |                   |
   |----------+------------+----------------------------+-------------------|
   |          |            | Remove leading spaces from |                   |
   | 396745   | kmoore     | the CLI command before     |                   |
   |          |            | parsing                    |                   |
   |----------+------------+----------------------------+-------------------|
   |          |            | Fix invalid access to      |                   |
   | 396958   | mjordan    | disposed memory in         |                   |
   |          |            | main/data unit test        |                   |
   |----------+------------+----------------------------+-------------------|
   |          |            | Add "autoframing" option   |                   |
   | 396994   | wdoekes    | to sip.conf.sample and     |                   |
   |          |            | h323.conf.sample.          |                   |
   |----------+------------+----------------------------+-------------------|
   | 397156   | mmichelson | Remove REF_DEBUG           |                   |
   |          |            | definition.                |                   |
   |----------+------------+----------------------------+-------------------|
   |          |            | Add _IO_stdin_used in      | ASTERISK-21763,   |
   | 397377   | wdoekes    | version-script to fix      | ASTERISK-21665    |
   |          |            | SIGBUSes on Sparc.         |                   |
   |----------+------------+----------------------------+-------------------|
   |          |            | test_substituition: Fix    |                   |
   | 398018   | rmudgett   | failed test reporting to   |                   |
   |          |            | actually report failure.   |                   |
   |----------+------------+----------------------------+-------------------|
   | 398102   | kharwell   | Fix various memory leaks   |                   |
   |----------+------------+----------------------------+-------------------|
   |          |            | Be a little more verbose   |                   |
   | 398167   | wdoekes    | when loading               |                   |
   |          |            | cel_custom.conf.           |                   |
   |----------+------------+----------------------------+-------------------|
   |          |            | chan_iax2: Add missing     |                   |
   | 398301   | rmudgett   | control frame names to     |                   |
   |          |            | debug frame decode output. |                   |
   |----------+------------+----------------------------+-------------------|
   |          |            | chan_iax2: Add missing     |                   |
   | 398339   | rmudgett   | control frame names to     |                   |
   |          |            | debug frame decode output. |                   |
   |          |            | (Part 2)                   |                   |
   |----------+------------+----------------------------+-------------------|
   |          |            | chan_iax2: Fix             |                   |
   | 398379   | rmudgett   | bridgecallno deadlock      |                   |
   |          |            | avoidance.                 |                   |
   |----------+------------+----------------------------+-------------------|
   |          |            | chan_iax2: Fix stray       |                   |
   | 398416   | rmudgett   | reference to worker thread |                   |
   |          |            | idle_list.                 |                   |
   |----------+------------+----------------------------+-------------------|
   |          |            | chan_iax2: Reduce          |                   |
   | 398456   | rmudgett   | indentation in             |                   |
   |          |            | __attempt_transmit().      |                   |
   |----------+------------+----------------------------+-------------------|
   | 398576   | kmoore     | Commit the remainder of    | ASTERISK-22435    |
   |          |            | r398523                    |                   |
   |----------+------------+----------------------------+-------------------|
   |          |            | MALLOC_DEBUG: Change fence |                   |
   | 398703   | rmudgett   | magic number to be         |                   |
   |          |            | completely different from  |                   |
   |          |            | the freed magic number.    |                   |
   |----------+------------+----------------------------+-------------------|
   | 398748   | dlee       | Fixed utils directory      |                   |
   |          |            | breakage from r398648      |                   |
   |----------+------------+----------------------------+-------------------|
   |          |            | Fixed utils directory      |                   |
   | 398752   | dlee       | breakage from r398748,     |                   |
   |          |            | this time with extra hate. |                   |
   |----------+------------+----------------------------+-------------------|
   | 398757   | rmudgett   | Fix incorrect usages of    |                   |
   |          |            | ast_realloc().             |                   |
   |----------+------------+----------------------------+-------------------|
   |          |            | chan_sip: Revert r398835   |                   |
   | 398977   | jrose      | due to failing tests       | ASTERISK-22424    |
   |          |            | involving originate        |                   |
   |----------+------------+----------------------------+-------------------|
   |          |            | Update prep_tarball with   |                   |
   | 399351   | mjordan    | new documentation files on | ASTERISK-22439    |
   |          |            | the Asterisk wiki          |                   |
   |----------+------------+----------------------------+-------------------|
   | 401222   | bebuild    | Create 1.8.24.0-rc2        |                   |
   |----------+------------+----------------------------+-------------------|
   | 401234   | bebuild    | Make updates for Asterisk  |                   |
   |          |            | 1.8.24.0-rc2               |                   |
   |----------+------------+----------------------------+-------------------|
   | 401237   | bebuild    | Importing release summary  |                   |
   |          |            | for 1.8.24.0-rc2 release.  |                   |
   +------------------------------------------------------------------------+

     ----------------------------------------------------------------------

                                Diffstat Results

                                 [Back to Top]

   This is a summary of the changes to the source code that went into this
   release that was generated using the diffstat utility.

 .version                                 |    2
 ChangeLog                                |   18
 UPGRADE.txt                              |    5
 apps/app_meetme.c                        |  850 ++++++++++++++++++++-----------
 apps/app_mixmonitor.c                    |   23
 apps/app_playback.c                      |    4
 apps/app_queue.c                         |    4
 apps/app_stack.c                         |    5
 asterisk-1.8.24.0-rc1-summary.html       |  466 ----------------
 asterisk-1.8.24.0-rc2-summary.html       |   59 ++
 asterisk-1.8.24.0-rc2-summary.txt        |   88 +++
 build_tools/prep_tarball                 |    4
 cel/cel_custom.c                         |   10
 channels/chan_dahdi.c                    |   40 -
 channels/chan_iax2.c                     |  209 ++++---
 channels/chan_misdn.c                    |   10
 channels/chan_sip.c                      |   34 -
 channels/iax2-parser.c                   |   14
 channels/sig_pri.c                       |    2
 channels/sip/dialplan_functions.c        |    5
 configs/chan_dahdi.conf.sample           |    3
 configs/h323.conf.sample                 |    2
 configs/iax.conf.sample                  |   17
 configs/indications.conf.sample          |    2
 configs/sip.conf.sample                  |    3
 configs/sla.conf.sample                  |   11
 contrib/realtime/postgresql/realtime.sql |   17
 default.exports                          |    4
 funcs/func_channel.c                     |   25
 funcs/func_dialgroup.c                   |    8
 funcs/func_global.c                      |   19
 funcs/func_strings.c                     |   10
 include/asterisk/astmm.h                 |    6
 include/asterisk/frame.h                 |    8
 include/asterisk/lock.h                  |   20
 include/asterisk/logger.h                |    2
 include/asterisk/utils.h                 |   68 ++
 main/abstract_jb.c                       |    4
 main/asterisk.c                          |  208 ++++---
 main/asterisk.exports.in                 |   19
 main/astfd.c                             |    6
 main/astmm.c                             |   27
 main/astobj2.c                           |    4
 main/cdr.c                               |    7
 main/cel.c                               |    2
 main/channel.c                           |   16
 main/cli.c                               |   40 +
 main/config.c                            |    4
 main/data.c                              |    2
 main/event.c                             |    6
 main/features.c                          |   24
 main/heap.c                              |   13
 main/http.c                              |   22
 main/indications.c                       |    7
 main/loader.c                            |    2
 main/lock.c                              |  220 ++++----
 main/logger.c                            |   60 +-
 main/manager.c                           |   25
 main/pbx.c                               |    6
 main/threadstorage.c                     |    6
 main/utils.c                             |   99 +++
 main/xmldoc.c                            |   14
 pbx/pbx_dundi.c                          |   20
 pbx/pbx_loopback.c                       |   15
 res/res_agi.c                            |   17
 res/res_jabber.c                         |   17
 res/res_musiconhold.c                    |   23
 res/res_security_log.c                   |    2
 tests/test_hashtab_thrash.c              |    6
 tests/test_substitution.c                |   41 -
 utils/ael_main.c                         |    6
 utils/check_expr.c                       |    9
 utils/conf2ael.c                         |    6
 utils/extconf.c                          |    3
 74 files changed, 1784 insertions(+), 1301 deletions(-)

     ----------------------------------------------------------------------
