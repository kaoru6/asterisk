                                Release Summary

                              asterisk-1.6.2.6-rc1

                                Date: 2010-03-04

                           <asteriskteam@digium.com>

     ----------------------------------------------------------------------

                               Table of Contents

    1. Summary
    2. Contributors
    3. Closed Issues
    4. Other Changes
    5. Diffstat

     ----------------------------------------------------------------------

                                    Summary

                                 [Back to Top]

   This release includes only bug fixes. The changes included were made only
   to address problems that have been identified in this release series.
   Users should be able to safely upgrade to this version if this release
   series is already in use. Users considering upgrading from a previous
   release series are strongly encouraged to review the UPGRADE.txt document
   as well as the CHANGES document for information about upgrading to this
   release series.

   The data in this summary reflects changes that have been made since the
   previous release, asterisk-1.6.2.2.

     ----------------------------------------------------------------------

                                  Contributors

                                 [Back to Top]

   This table lists the people who have submitted code, those that have
   tested patches, as well as those that reported issues on the issue tracker
   that were resolved in this release. For coders, the number is how many of
   their patches (of any size) were committed into this release. For testers,
   the number is the number of times their name was listed as assisting with
   testing a patch. Finally, for reporters, the number is the number of
   issues that they reported that were closed by commits that went into this
   release.

     Coders                   Testers                  Reporters              
   15 tilghman              5 tilghman               3 bklang                 
   13 dvossel               3 dvossel                2 davidw                 
   8 lmadsen                1 bloodoff               2 elsto                  
   6 mmichelson             1 Chainsaw               2 snuffy                 
   5 jpeeler                1 corruptor              2 tim_ringenbach         
   3 alecdavis              1 davidw                 1 alecdavis              
   2 kpfleming              1 elsto                  1 alexanderheinz         
   2 mnicholson             1 jamhed                 1 barthpbx               
   2 qwell                  1 jsmith                 1 bluefox                
   2 russell                1 junky                  1 Brian                  
   2 seanbright             1 kenny                  1 dodo                   
   2 snuffy                 1 kjotte                 1 exarv                  
   2 tim                    1 lmadsen                1 hevad                  
   1 bklang                 1 mattbrown              1 jamhed                 
   1 dodo                   1 mikeeccleston          1 jedi98                 
   1 jedi98                 1 misaksen               1 kjotte                 
   1 junky                  1 mmichelson             1 kobaz                  
   1 moy                    1 mnicholson             1 krn                    
   1 pprindeville           1 pwalker                1 michaesc               
   1 raarts                 1 raarts                 1 okrief                 
   1 rain                   1 rain                   1 pprindeville           
   1 rmudgett               1 raivisr                1 pwalker                
   1 thirionjwf             1 tzafrir                1 raarts                 
   1 vrban                  1 whardier               1 rain                   
                                                     1 raivisr                
                                                     1 thirionjwf             
                                                     1 tilghman               
                                                     1 tomo1657               
                                                     1 vlad                   
                                                     1 vrban                  
                                                     1 wdoekes                
                                                     1 whardier               

     ----------------------------------------------------------------------

                                 Closed Issues

                                 [Back to Top]

   This is a list of all issues from the issue tracker that were closed by
   changes that went into this release.

  Category: Applications/app_chanspy

   #16678: [patch] segfault on chanspy due to race in main/channel.c
   Revision: 246547
   Reporter: tim_ringenbach
   Testers: dvossel
   Coders: tim

  Category: Applications/app_confbridge

   #16471: [patch] calling ConfBridge() with no timing source causes segfault
   Revision: 247776
   Reporter: kjotte
   Testers: kjotte, junky
   Coders: junky

  Category: Applications/app_dial

   #16686: [patch] app_dial does not respect GOSUB_RESULT
   Revision: 244395
   Reporter: bklang
   Coders: bklang

  Category: Applications/app_fax

   #16361: [patch] Asterisk crashes after receiving fax with 'double free'
   Revision: 245732
   Reporter: vlad
   Testers: kenny, bloodoff, misaksen
   Coders: tilghman

  Category: Applications/app_queue

   #16475: [patch] Option C in Queue() app crashes Asterisk
   Revision: 247737
   Reporter: okrief
   Coders: dvossel

   #16677: [patch] deadlock in app_queue with use_weight during reload
   Revision: 246117
   Reporter: tim_ringenbach
   Coders: tim

  Category: Applications/app_transfer

   #16331: [patch] A blind transfer results in a call with empty accountcode
   in a specific circumstance
   Revision: 247653
   Reporter: bluefox
   Testers: mnicholson
   Coders: mnicholson

  Category: Applications/app_voicemail

   #15654: [patch] Missing new-message notification for urgent messages
   Revision: 249190
   Reporter: tomo1657
   Testers: tilghman
   Coders: tilghman

   #16448: Voicemail messages flagged as urgent do not get emailed
   Revision: 249190
   Reporter: hevad
   Testers: tilghman
   Coders: tilghman

   #16921: [patch] VoiceMail(vmbox@context,s) -> Regularly segfaults asterisk
   Revision: 249675
   Reporter: whardier
   Testers: whardier
   Coders: seanbright

   #16927: [patch] Segfault branches, and trunk, when DAHDI FXS port goes off
   hook
   Revision: 249493
   Reporter: alecdavis
   Coders: tilghman

  Category: Channels/chan_dahdi

   #14163: [patch] UK (BT) lines produce uncleared red alarm on TDM400P
   during line tests
   Revision: 250484
   Reporter: jedi98
   Testers: mattbrown, Chainsaw, mikeeccleston
   Coders: jedi98

   #16359: [patch] Only the last setvar is effective for a given channel
   Revision: 244508
   Reporter: raarts
   Testers: raarts
   Coders: raarts

  Category: Channels/chan_iax2

   #15997: [patch] segfault in 1.6.1.6 in _ao2_find, called from chan_iax2
   after approx. 75.000 calls
   Revision: 245794
   Reporter: exarv
   Coders: dvossel

   #16904: [patch] [regression] Duplicate TXREQ packets will cause chan_iax2
   to reject an unrelated call in the future
   Revision: 250396
   Reporter: rain
   Testers: rain, dvossel
   Coders: rain

  Category: Channels/chan_local

   #14992: [patch] [regression] #0013747 not fixed for local channel
   (Indications are not passed from old peer to new peer during masquerad
   Revision: 246073
   Reporter: davidw
   Coders: jpeeler

   #16637: [patch] Dial option 'L' does not work correctly when a local
   channel is involved
   Revision: 250610
   Reporter: kobaz
   Testers: lmadsen, jsmith, mmichelson
   Coders: lmadsen

  Category: Channels/chan_sip/DatabaseSupport

   #16683: [patch] warning about "Invalid peer port configuration" for
   realtime
   Revision: 247792
   Reporter: wdoekes
   Coders: tilghman

  Category: Channels/chan_sip/T.38

   #16485: after udp error sip phones get kicked
   Revision: 244445
   Reporter: elsto
   Coders: dvossel

   #16517: Segfault while setting up T.38 fax reception
   Revision: 244445
   Reporter: bklang
   Coders: dvossel

   #16634: asterisk crashes while fax sending
   Revision: 244445
   Reporter: krn
   Coders: dvossel

   #16724: coredump on T.38 Session with 1.6.2.1
   Revision: 244445
   Reporter: barthpbx
   Coders: dvossel

   #16766: [patch] T.38 negotiation fails with Patton SN2400
   Revision: 245728
   Reporter: raivisr
   Testers: raivisr
   Coders: mnicholson

   #16792: [patch] 606 Not Acceptable is also a valid response to reject a
   T.38 re-INVITE
   Revision: 249104
   Reporter: vrban
   Coders: vrban

  Category: Channels/chan_sip/Transfers

   #16862: [patch] [regression] One-legged Transfer (INVITE / Replaces) not
   working anymore
   Revision: 248398
   Reporter: pwalker
   Testers: pwalker, dvossel
   Coders: dvossel

  Category: Core/BuildSystem

   #16596: [patch] LD (llinker) options not used by main/ and channels/
   builds
   Revision: 245581
   Reporter: pprindeville
   Testers: tilghman
   Coders: pprindeville

  Category: Core/General

   #16786: [patch] Remove coloring escape sequences from log files.
   Revision: 248643
   Reporter: dodo
   Testers: tilghman
   Coders: dodo

  Category: Core/PBX

   #16802: [patch] Unable to open pid file '/var/run/asterisk/asterisk.pid':
   No such file or directory
   Revision: 248864
   Reporter: Brian
   Testers: tzafrir
   Coders: tilghman

  Category: Core/Portability

   #16673: [patch] TLS socket file descriptor fails to open (with no error
   message in log)
   Revision: 246982
   Reporter: michaesc
   Coders: dvossel

  Category: Documentation

   #16145: Literal values wrapped in documentation
   Revision: 249953
   Reporter: tilghman
   Coders: lmadsen

   #16267: [patch] unanswered has no effect
   Revision: 250047
   Reporter: elsto
   Testers: davidw, elsto
   Coders: lmadsen

   #16743: [patch] Missing description of the PARKINGLOT variable in XML
   documentation
   Revision: 249933
   Reporter: snuffy
   Coders: snuffy

   #16798: [patch] Update DUNDi to XML docs
   Revision: 249916
   Reporter: snuffy
   Coders: snuffy

   #16855: Template examples in documentation imply well defined overriding
   semantics, but this is not true
   Revision: 250038
   Reporter: davidw
   Coders: lmadsen

  Category: General

   #16062: [patch] Asterisk crashes after "core stop gracefully"
   Revision: 248011
   Reporter: alexanderheinz
   Testers: tilghman
   Coders: tilghman

  Category: PBX/General

   #16816: [patch] Attended transfer broken in 1.6.2.2
   Revision: 249580
   Reporter: jamhed
   Testers: jamhed, corruptor
   Coders: jpeeler

  Category: Resources/res_agi

   #16689: [patch] Crash in res_agi when trying to send application usage
   Revision: 246199
   Reporter: bklang
   Coders: tilghman

  Category: Resources/res_speech

   #16368: [patch] Asterisk crash when SpeechCreate() is used in dialplan
   without exact name of the module, using the default.
   Revision: 247845
   Reporter: thirionjwf
   Coders: thirionjwf

     ----------------------------------------------------------------------

                      Commits Not Associated with an Issue

                                 [Back to Top]

   This is a list of all changes that went into this release that did not
   directly close an issue from the issue tracker. The commits may have been
   marked as being related to an issue. If that is the case, the issue
   numbers are listed here, as well.

   +------------------------------------------------------------------------+
   | Revision | Author     | Summary                           | Issues     |
   |          |            |                                   | Referenced |
   |----------+------------+-----------------------------------+------------|
   |          |            | Initialize counters in            |            |
   | 244555   | mmichelson | ast_sched_report so that          |            |
   |          |            | resulting data is not bogus.      |            |
   |----------+------------+-----------------------------------+------------|
   | 244930   | seanbright | Update main copyright date.       |            |
   |----------+------------+-----------------------------------+------------|
   | 245097   | jpeeler    | Remove contrib/firmware directory |            |
   |          |            | as it is empty                    |            |
   |----------+------------+-----------------------------------+------------|
   | 245500   | qwell      | Remove reference of documentation |            |
   |          |            | in source directory.              |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | Fix return value of get_ie_str()  |            |
   | 245626   | russell    | and get_ie_str_hash() for         |            |
   |          |            | non-existent IE.                  |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | Don't offer MMR or JBIG           |            |
   | 245683   | kpfleming  | transcoding during T.38           |            |
   |          |            | negotiation.                      |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | Include examples of FILTER usage  |            |
   | 245948   | tilghman   | in extension patterns where a "." |            |
   |          |            | may be a risk.                    |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | Enable warnings on atypical       |            |
   | 246025   | tilghman   | conditions for the FILTER         |            |
   |          |            | function (suggested by mmichelson |            |
   |          |            | on the -dev list).                |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | Fix weird issue with unit tests   |            |
   | 246203   | tilghman   | on optimized build - turned out   |            |
   |          |            | to be a signing issue.            |            |
   |----------+------------+-----------------------------------+------------|
   | 246207   | tilghman   | Fussy compiler on another         |            |
   |          |            | machine...                        |            |
   |----------+------------+-----------------------------------+------------|
   | 246464   | qwell      | Fix some silly formatting that    |            |
   |          |            | made my head hurt.                |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | Make the menuselect instructions  |            |
   | 246713   | tilghman   | correct by allowing 'make         |            |
   |          |            | menuselect' to actually solve     |            |
   |          |            | dependency problems.              |            |
   |----------+------------+-----------------------------------+------------|
   | 246900   | dvossel    | fixes sample rate conversion      |            |
   |          |            | issue with Monitor application    |            |
   |----------+------------+-----------------------------------+------------|
   | 246901   | dvossel    | fixes merge error with Monitor    |            |
   |          |            | calculation fix                   |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | Add some clarifying documentation |            |
   | 246989   | mmichelson | to the ast_str_set and            |            |
   |          |            | ast_str_append functions.         |            |
   |----------+------------+-----------------------------------+------------|
   | 247079   | mmichelson | Add va_end calls to               |            |
   |          |            | __ast_str_helper.                 |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | Make sure that when autofill is   |            |
   | 247172   | mmichelson | disabled that callers not in the  |            |
   |          |            | front of the queue cannot place   |            |
   |          |            | calls.                            |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | Fix two problems in ast_str       |            |
   | 247337   | mmichelson | functions found while writing a   |            |
   |          |            | unit test.                        |            |
   |----------+------------+-----------------------------------+------------|
   | 247426   | russell    | Tweak argument handling for wget  |            |
   |          |            | in the sounds Makefile.           |            |
   |----------+------------+-----------------------------------+------------|
   | 247506   | lmadsen    | Add best practices documentation. | #16808,    |
   |          |            |                                   | #16810     |
   |----------+------------+-----------------------------------+------------|
   | 247512   | lmadsen    | Add additional link to best       |            |
   |          |            | practices document per jsmith.    |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | handle_request_invite revise      |            |
   | 247916   | dvossel    | comment, fix coding guideline     |            |
   |          |            | issues                            |            |
   |----------+------------+-----------------------------------+------------|
   | 248004   | rmudgett   | Merged revision 247904 from       |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | mfcr2 issue 0016844 - Fix         |            |
   |          |            | portability bit fields and make   |            |
   | 248005   | moy        | mfcr2_immediate_accept work       |            |
   |          |            | again, reported and patched by    |            |
   |          |            | korihor                           |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | Ensure that monitor recordings    |            |
   | 248797   | jpeeler    | are written to the correct        |            |
   |          |            | location.                         |            |
   |----------+------------+-----------------------------------+------------|
   | 248949   | mmichelson | Fix incorrect ACL behavior when   |            |
   |          |            | CIDR notation of "/0" is used.    |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | Ensure that monitor recordings    |            |
   | 248955   | jpeeler    | are written to the correct        |            |
   |          |            | location (again)                  |            |
   |----------+------------+-----------------------------------+------------|
   | 249238   | kpfleming  | add a reference to the            |            |
   |          |            | now-published IAX2 RFC            |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | overlap receiving: automatically  |            |
   | 249321   | alecdavis  | send CALL PROCEEDING when         | #16789     |
   |          |            | dialplan starts                   |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | Properly document voicemail API   |            |
   | 249407   | tilghman   | documents. Also fix a crash       |            |
   |          |            | reported via the -dev list.       |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | Constify a bit of app_voicemail,  |            |
   | 249625   | tilghman   | to make ODBC and IMAP compile     |            |
   |          |            | once again.                       |            |
   |----------+------------+-----------------------------------+------------|
   | 249844   | alecdavis  | fixes ability to exit echo app    | #16880     |
   |----------+------------+-----------------------------------+------------|
   | 249894   | lmadsen    | Fix several XML documentation     |            |
   |          |            | validate errors.                  |            |
   |----------+------------+-----------------------------------+------------|
   | 249895   | dvossel    | fixes adaptive jitterbuffer       |            |
   |          |            | configuration                     |            |
   |----------+------------+-----------------------------------+------------|
   | 249952   | alecdavis  | revert ability to exit echo app   | #16880     |
   |----------+------------+-----------------------------------+------------|
   | 250052   | lmadsen    | Update IMAP documentation.        | #16704     |
   |----------+------------+-----------------------------------+------------|
   |          |            | fixes signed to unsigned int      |            |
   | 250253   | dvossel    | comparision issue for             |            |
   |          |            | FaxMaxDatagram value.             |            |
   +------------------------------------------------------------------------+

     ----------------------------------------------------------------------

                                Diffstat Results

                                 [Back to Top]

   This is a summary of the changes to the source code that went into this
   release that was generated using the diffstat utility.

 LICENSE                            |   11
 Makefile                           |    3
 README-SERIOUSLY.bestpractices.txt |  295 +++++++++++++++++++++
 apps/app_confbridge.c              |    2
 apps/app_dial.c                    |   10
 apps/app_directory.c               |    5
 apps/app_fax.c                     |   10
 apps/app_queue.c                   |   23 -
 apps/app_voicemail.c               |  134 +++++----
 bridges/bridge_softmix.c           |    3
 channels/Makefile                  |    4
 channels/chan_alsa.c               |    3
 channels/chan_console.c            |    4
 channels/chan_dahdi.c              |   58 +++-
 channels/chan_gtalk.c              |    3
 channels/chan_h323.c               |    3
 channels/chan_iax2.c               |   16 -
 channels/chan_jingle.c             |    3
 channels/chan_local.c              |    4
 channels/chan_mgcp.c               |    3
 channels/chan_misdn.c              |   36 --
 channels/chan_oss.c                |    1
 channels/chan_sip.c                |  227 ++++++++++------
 channels/chan_skinny.c             |    3
 channels/chan_unistim.c            |    5
 channels/chan_usbradio.c           |    1
 channels/misdn_config.c            |    1
 configs/alsa.conf.sample           |    7
 configs/cdr.conf.sample            |    6
 configs/chan_dahdi.conf.sample     |    7
 configs/console.conf.sample        |    7
 configs/extensions.conf.sample     |    4
 configs/mgcp.conf.sample           |    7
 configs/misdn.conf.sample          |    7
 configs/oss.conf.sample            |    7
 configs/sip.conf.sample            |    7
 configs/usbradio.conf.sample       |    7
 configure.ac                       |   12
 doc/tex/configuration.tex          |   32 +-
 doc/tex/imapstorage.tex            |    6
 doc/tex/localchannel.tex           |  518 ++++++++++++++++++++++++++++++++-----
 funcs/func_strings.c               |   37 +-
 include/asterisk/abstract_jb.h     |    7
 include/asterisk/app.h             |   39 ++
 include/asterisk/autoconfig.h.in   |    3
 include/asterisk/strings.h         |   31 +-
 include/asterisk/udptl.h           |   16 +
 main/Makefile                      |    6
 main/abstract_jb.c                 |    5
 main/acl.c                         |    9
 main/ast_expr2.fl                  |    2
 main/ast_expr2f.c                  |  136 +++++----
 main/asterisk.c                    |   16 +
 main/channel.c                     |   53 ++-
 main/event.c                       |    6
 main/features.c                    |    6
 main/loader.c                      |   47 ++-
 main/logger.c                      |    7
 main/sched.c                       |    1
 main/strings.c                     |   10
 main/tcptls.c                      |    5
 main/udptl.c                       |   36 ++
 pbx/pbx_dundi.c                    |   99 +++++--
 res/res_agi.c                      |   34 +-
 res/res_monitor.c                  |   22 -
 res/res_speech.c                   |    3
 sounds/Makefile                    |    4
 67 files changed, 1655 insertions(+), 490 deletions(-)

     ----------------------------------------------------------------------
